<!--
        Title
    Run (green button)
    abort (red button)
    Direction control (forward reverse button) 
        Distance (maybe)
        Status (cleaning, stopped, home)
    Brush (on off)
    Water (on off)

-->
<html><head><title>Lean Green Cleaning Machine - Team 14</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="data:,">
        <style>
        html{font-family: Helvetica; display:inline-block; margin: 0px auto; text-align: center;}
        h1{color: #106c00; padding: 2vh;}
        p{font-size: 1.5rem;}
        .run{display: inline-block; background-color: #32b212; border: none; border-radius: 4px; color: white;
                         padding: 16px 40px; text-decoration: none; font-size: 30px; margin: 2px; cursor: pointer;}
        .abort{display: inline-block; background-color: #ff0000; border: none; border-radius: 4px; color: white;
                         padding: 16px 40px; text-decoration: none; font-size: 30px; margin: 2px; cursor: pointer;}                 
        </style>

        <!-- 
        <script>
        function move_right() {
         message sent to server
            fetch("/move_right");
         log message on web client
            console.log("move right");
         run other function
            update_state();
        }
        </script>
        -->

        <script>
        function run() {
            fetch("/run");
            console.log("run");
            update_state();
        }
        </script>

        <script>
        function abort() {
            fetch("/abort");
            console.log("abort");
            update_state();
        }
        </script>

        <script>
        function update_state() {
            fetch("/motor_status")
                .then(response => response.text())
                .then(state => {
                    document.getElementById("motor_status").innerHTML = state;
                });
        }
        </script>

        <!-- Web page content -->
        </head>
        <h1>Lean Green Cleaning Machine</h1>
        
        <body onload="update_state();">
        <p>Motor Control</p>
        <p id="motor_status"></p>
        <button class="run" onclick="run()"> run </button>
        <button class="abort" onclick="abort()"> abort </button>
        
        </body>
    </html>